<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Mobile Pro</title>
<style>
body{
    margin:0;
    background:linear-gradient(#1e1e1e,#000);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100vh;
    font-family:Arial;
    color:white;
}
canvas{
    background:#111;
    border-radius:15px;
    box-shadow:0 0 20px #0f0;
}
.topbar{
    display:flex;
    justify-content:space-between;
    width:320px;
    margin-bottom:10px;
}
select{
    padding:5px;
    border-radius:8px;
}
.controls{
    margin-top:15px;
    display:grid;
    grid-template-columns:80px 80px 80px;
    grid-template-rows:80px 80px;
    gap:10px;
}
button{
    font-size:28px;
    border:none;
    border-radius:15px;
    background:#00ff88;
}
button:active{
    background:#00cc66;
}
</style>
</head>
<body>

<div class="topbar">
<div>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span></div>
<select id="skin">
<option value="#00ff00">Ø£Ø®Ø¶Ø±</option>
<option value="#00bfff">Ø£Ø²Ø±Ù‚</option>
<option value="#ff00ff">Ø¨Ù†ÙØ³Ø¬ÙŠ</option>
<option value="#ff4444">Ø£Ø­Ù…Ø±</option>
<option value="#ffaa00">Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ</option>
</select>
</div>

<canvas id="game" width="320" height="320"></canvas>

<div class="controls">
<div></div>
<button onclick="setDirection('UP')">â¬†</button>
<div></div>
<button onclick="setDirection('LEFT')">â¬…</button>
<button onclick="setDirection('DOWN')">â¬‡</button>
<button onclick="setDirection('RIGHT')">â¡</button>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

const box=20;
let snake=[{x:8*box,y:8*box}];
let direction="RIGHT";
let food=randomFood();
let score=0;

const fruits=["ğŸ","ğŸŒ","ğŸ‡","ğŸ“","ğŸ"];
let currentFruit=fruits[Math.floor(Math.random()*fruits.length)];

function randomFood(){
    currentFruit=fruits[Math.floor(Math.random()*fruits.length)];
    return {
        x:Math.floor(Math.random()*15)*box,
        y:Math.floor(Math.random()*15)*box
    };
}

function setDirection(dir){
    if(dir==="LEFT" && direction!=="RIGHT") direction="LEFT";
    if(dir==="UP" && direction!=="DOWN") direction="UP";
    if(dir==="RIGHT" && direction!=="LEFT") direction="RIGHT";
    if(dir==="DOWN" && direction!=="UP") direction="DOWN";
}

function draw(){
    ctx.fillStyle="#111";
    ctx.fillRect(0,0,320,320);

    let skinColor=document.getElementById("skin").value;

    for(let i=0;i<snake.length;i++){
        ctx.fillStyle=skinColor;
        ctx.beginPath();
        ctx.arc(snake[i].x+box/2,snake[i].y+box/2,box/2-2,0,Math.PI*2);
        ctx.fill();
    }

    ctx.fillStyle="white";
    ctx.font="20px Arial";
    ctx.fillText(currentFruit,food.x+2,food.y+18);

    let headX=snake[0].x;
    let headY=snake[0].y;

    if(direction==="LEFT") headX-=box;
    if(direction==="UP") headY-=box;
    if(direction==="RIGHT") headX+=box;
    if(direction==="DOWN") headY+=box;

    if(headX===food.x && headY===food.y){
        score++;
        document.getElementById("score").innerText=score;
        food=randomFood();
    }else{
        snake.pop();
    }

    let newHead={x:headX,y:headY};

    if(headX<0 || headY<0 || headX>=320 || headY>=320 || collision(newHead,snake)){
        clearInterval(game);
        alert("Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ğŸ® Ù†Ù‚Ø§Ø·Ùƒ: "+score);
        location.reload();
    }

    snake.unshift(newHead);
}

function collision(head,array){
    for(let i=0;i<array.length;i++){
        if(head.x===array[i].x && head.y===array[i].y){
            return true;
        }
    }
    return false;
}

let game=setInterval(draw,120);
</script>

</body>
</html>
